# üîë API –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –¥–ª—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π

## üéØ **–û–±–∑–æ—Ä**

–¢–µ–ø–µ—Ä—å –≤–∞—à–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –º–æ–≥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å API —Å–∞–π—Ç–∞ –¥–ª—è:
- üì± **–£–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è–º–∏** (—Å–æ–∑–¥–∞–Ω–∏–µ, —á—Ç–µ–Ω–∏–µ, –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ, —É–¥–∞–ª–µ–Ω–∏–µ)
- ü§ñ **–ì–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Ç–µ–∫—Å—Ç–∞** —Å –ø–æ–º–æ—â—å—é AI
- üé® **–ì–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π** —Å –ø–æ–º–æ—â—å—é AI
- üîê **–ë–µ–∑–æ–ø–∞—Å–Ω–æ–π –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏** —á–µ—Ä–µ–∑ API –∫–ª—é—á–∏

## üöÄ **–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç**

### 1. **–°–æ–∑–¥–∞–Ω–∏–µ API –∫–ª—é—á–∞**
1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ `/profile` ‚Üí –∫–Ω–æ–ø–∫–∞ **"API"**
2. –ù–∞–∂–º–∏—Ç–µ **"–°–æ–∑–¥–∞—Ç—å –∫–ª—é—á"**
3. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞:
   - ‚úÖ **–ß—Ç–µ–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π** - –ø–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –≤–∞—à–∏—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π
   - ‚úÖ **–°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π** - —Å–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π
   - ‚úÖ **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π** - –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π
   - ‚ùå **–£–¥–∞–ª–µ–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π** - —É–¥–∞–ª–µ–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –æ—Ç–∫–ª—é—á–µ–Ω–æ)
   - ‚úÖ **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–µ–∫—Å—Ç–∞** - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ AI –¥–ª—è —Ç–µ–∫—Å—Ç–∞
   - ‚úÖ **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π** - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ AI –¥–ª—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
4. **–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –∫–ª—é—á** - –≤—ã —É–≤–∏–¥–∏—Ç–µ –µ–≥–æ —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ä–∞–∑!

### 2. **–ë–∞–∑–æ–≤–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ**
```javascript
// –í–∞—à API –∫–ª—é—á (—Ö—Ä–∞–Ω–∏—Ç–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ!)
const API_KEY = 'sk_your_api_key_here';
const API_BASE = 'https://yoursite.com/api/app-api';

// –ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞
const response = await fetch(`${API_BASE}/user-apps`, {
  headers: {
    'Authorization': `Bearer ${API_KEY}`,
    'Content-Type': 'application/json'
  }
});

const data = await response.json();
console.log('–ú–æ–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:', data.apps);
```

## üìö **API –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã**

### **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è–º–∏**

#### `GET /api/app-api/user-apps`
–ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –≤–∞—à–∏—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π
- **–ü—Ä–∞–≤–∞:** `read_apps`
- **–û—Ç–≤–µ—Ç:** `{ apps: [...], count: number }`

#### `POST /api/app-api/user-apps`
–°–æ–∑–¥–∞—Ç—å –Ω–æ–≤–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
- **–ü—Ä–∞–≤–∞:** `create_apps`
- **–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:**
```json
{
  "name": "–ù–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è",
  "description": "–û–ø–∏—Å–∞–Ω–∏–µ",
  "code": "console.log('Hello');",
  "html_template": "<div>HTML</div>",
  "css_styles": "div { color: red; }",
  "is_public": false
}
```

#### `GET /api/app-api/user-apps/[id]`
–ü–æ–ª—É—á–∏—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
- **–ü—Ä–∞–≤–∞:** `read_apps`
- **–û—Ç–≤–µ—Ç:** `{ app: {...} }`

#### `PUT /api/app-api/user-apps/[id]`
–û–±–Ω–æ–≤–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
- **–ü—Ä–∞–≤–∞:** `update_apps`
- **–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:** –õ—é–±—ã–µ –ø–æ–ª—è –∏–∑ POST –∑–∞–ø—Ä–æ—Å–∞

#### `DELETE /api/app-api/user-apps/[id]`
–£–¥–∞–ª–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (–º—è–≥–∫–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ)
- **–ü—Ä–∞–≤–∞:** `delete_apps`

### **AI –ì–µ–Ω–µ—Ä–∞—Ü–∏—è**

#### `POST /api/app-api/generate-text`
–ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–µ–∫—Å—Ç–∞ —Å –ø–æ–º–æ—â—å—é AI
- **–ü—Ä–∞–≤–∞:** `generate_text`
- **–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:**
```json
{
  "prompt": "–ù–∞–ø–∏—à–∏ –∏—Å—Ç–æ—Ä–∏—é –æ —Ä–æ–±–æ—Ç–µ",
  "model": "yandexgpt",
  "maxTokens": 500,
  "temperature": 0.7
}
```
- **–û—Ç–≤–µ—Ç:** `{ text: "...", model: "...", usage: {...} }`

#### `POST /api/app-api/generate-image`
–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π —Å –ø–æ–º–æ—â—å—é AI
- **–ü—Ä–∞–≤–∞:** `generate_image`
- **–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:**
```json
{
  "prompt": "–ö—Ä–∞—Å–∏–≤—ã–π –∑–∞–∫–∞—Ç –Ω–∞–¥ –º–æ—Ä–µ–º",
  "width": 1024,
  "height": 1024,
  "model": "kandinsky"
}
```
- **–û—Ç–≤–µ—Ç:** `{ image_url: "...", prompt: "...", dimensions: {...} }`

## üí° **–ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è**

### **–ü—Ä–æ—Å—Ç–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å AI**
```javascript
const app = document.getElementById('root');
if (app) {
  app.innerHTML = `
    <div style="padding:20px;font-family:Arial;">
      <h1>AI –ü–æ–º–æ—â–Ω–∏–∫</h1>
      <input type="text" id="prompt" placeholder="–í–∞—à –∑–∞–ø—Ä–æ—Å..." style="width:100%;padding:10px;margin:10px 0;">
      <button onclick="generateText()" style="padding:10px 20px;background:#007bff;color:white;border:none;border-radius:5px;">
        –ì–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —Ç–µ–∫—Å—Ç
      </button>
      <div id="result" style="margin-top:20px;padding:15px;border:1px solid #ddd;border-radius:5px;min-height:100px;"></div>
    </div>
  `;
  
  const API_KEY = 'sk_your_api_key_here';
  
  async function generateText() {
    const prompt = document.getElementById('prompt').value;
    const result = document.getElementById('result');
    
    if (!prompt) {
      result.innerHTML = '–í–≤–µ–¥–∏—Ç–µ –∑–∞–ø—Ä–æ—Å!';
      return;
    }
    
    result.innerHTML = '–ì–µ–Ω–µ—Ä–∏—Ä—É—é...';
    
    try {
      const response = await fetch('/api/app-api/generate-text', {
        method: 'POST',
        headers: {
          'Authorization': `Bearer ${API_KEY}`,
          'Content-Type': 'application/json'
        },
        body: JSON.stringify({
          prompt: prompt,
          maxTokens: 300
        })
      });
      
      const data = await response.json();
      
      if (response.ok) {
        result.innerHTML = `<strong>–†–µ–∑—É–ª—å—Ç–∞—Ç:</strong><br>${data.text}`;
      } else {
        result.innerHTML = `<span style="color:red;">–û—à–∏–±–∫–∞: ${data.error}</span>`;
      }
    } catch (error) {
      result.innerHTML = `<span style="color:red;">–û—à–∏–±–∫–∞: ${error.message}</span>`;
    }
  }
}
```

### **–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥—Ä—É–≥–∏–º–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è–º–∏**
```javascript
const app = document.getElementById('root');
if (app) {
  app.innerHTML = `
    <div style="padding:20px;font-family:Arial;">
      <h1>–ú–µ–Ω–µ–¥–∂–µ—Ä –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π</h1>
      <button onclick="loadApps()" style="padding:10px 20px;background:#28a745;color:white;border:none;border-radius:5px;margin-bottom:20px;">
        –ó–∞–≥—Ä—É–∑–∏—Ç—å –º–æ–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
      </button>
      <div id="apps-list"></div>
    </div>
  `;
  
  const API_KEY = 'sk_your_api_key_here';
  
  async function loadApps() {
    const appsList = document.getElementById('apps-list');
    appsList.innerHTML = '–ó–∞–≥—Ä—É–∂–∞—é...';
    
    try {
      const response = await fetch('/api/app-api/user-apps', {
        headers: {
          'Authorization': `Bearer ${API_KEY}`,
          'Content-Type': 'application/json'
        }
      });
      
      const data = await response.json();
      
      if (response.ok) {
        appsList.innerHTML = `
          <h3>–ù–∞–π–¥–µ–Ω–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π: ${data.count}</h3>
          ${data.apps.map(app => `
            <div style="border:1px solid #ddd;padding:15px;margin:10px 0;border-radius:5px;">
              <h4>${app.name}</h4>
              <p>${app.description || '–ë–µ–∑ –æ–ø–∏—Å–∞–Ω–∏—è'}</p>
              <small>–°–æ–∑–¥–∞–Ω–æ: ${new Date(app.created_at).toLocaleDateString()}</small>
            </div>
          `).join('')}
        `;
      } else {
        appsList.innerHTML = `<span style="color:red;">–û—à–∏–±–∫–∞: ${data.error}</span>`;
      }
    } catch (error) {
      appsList.innerHTML = `<span style="color:red;">–û—à–∏–±–∫–∞: ${error.message}</span>`;
    }
  }
}
```

## üîí **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**

### **–ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞**
- **read_apps** - –ß—Ç–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –∏ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ –≤–∞—à–∏—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π
- **create_apps** - –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π
- **update_apps** - –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π
- **delete_apps** - –£–¥–∞–ª–µ–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π (–æ—Å—Ç–æ—Ä–æ–∂–Ω–æ!)
- **generate_text** - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ AI –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Ç–µ–∫—Å—Ç–∞
- **generate_image** - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ AI –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

### **–õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏**
1. **–ù–µ —Ö—Ä–∞–Ω–∏—Ç–µ API –∫–ª—é—á–∏ –≤ –∫–æ–¥–µ** - –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
2. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –ø—Ä–∞–≤–∞** - –≤–∫–ª—é—á–∞–π—Ç–µ —Ç–æ–ª—å–∫–æ –Ω—É–∂–Ω—ã–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è
3. **–†–µ–≥—É–ª—è—Ä–Ω–æ –æ–±–Ω–æ–≤–ª—è–π—Ç–µ –∫–ª—é—á–∏** - —Å–æ–∑–¥–∞–≤–∞–π—Ç–µ –Ω–æ–≤—ã–µ, —É–¥–∞–ª—è–π—Ç–µ —Å—Ç–∞—Ä—ã–µ
4. **–ú–æ–Ω–∏—Ç–æ—Ä—å—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ** - –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ "–ü–æ—Å–ª–µ–¥–Ω–µ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ"

### **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è**
- **–ú–∞–∫—Å–∏–º—É–º 10 API –∫–ª—é—á–µ–π** –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- **–î–æ—Å—Ç—É–ø —Ç–æ–ª—å–∫–æ –∫ —Å–≤–æ–∏–º –¥–∞–Ω–Ω—ã–º** - –Ω–µ–ª—å–∑—è –ø–æ–ª—É—á–∏—Ç—å —á—É–∂–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- **Rate limiting** - –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –Ω–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø—Ä–æ—Å–æ–≤ (–µ—Å–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ)

## üõ†Ô∏è **–û—Ç–ª–∞–¥–∫–∞**

### **–ß–∞—Å—Ç—ã–µ –æ—à–∏–±–∫–∏**
- **401 Unauthorized** - –Ω–µ–≤–µ—Ä–Ω—ã–π –∏–ª–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏–π API –∫–ª—é—á
- **403 Forbidden** - –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞
- **404 Not Found** - –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ –∏–ª–∏ –Ω–µ –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏—Ç –≤–∞–º
- **429 Too Many Requests** - –ø—Ä–µ–≤—ã—à–µ–Ω –ª–∏–º–∏—Ç –∑–∞–ø—Ä–æ—Å–æ–≤

### **–ü—Ä–æ–≤–µ—Ä–∫–∞ API –∫–ª—é—á–∞**
```javascript
// –ü—Ä–æ—Å—Ç–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤–∞–ª–∏–¥–Ω–æ—Å—Ç–∏ –∫–ª—é—á–∞
async function testApiKey(apiKey) {
  try {
    const response = await fetch('/api/app-api/user-apps', {
      headers: {
        'Authorization': `Bearer ${apiKey}`,
        'Content-Type': 'application/json'
      }
    });
    
    if (response.ok) {
      console.log('‚úÖ API –∫–ª—é—á —Ä–∞–±–æ—Ç–∞–µ—Ç');
      return true;
    } else {
      console.log('‚ùå API –∫–ª—é—á –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:', response.status);
      return false;
    }
  } catch (error) {
    console.log('‚ùå –û—à–∏–±–∫–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏:', error.message);
    return false;
  }
}
```

## üéâ **–ì–æ—Ç–æ–≤–æ!**

–¢–µ–ø–µ—Ä—å –≤–∞—à–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –º–æ–≥—É—Ç:
- üîó **–ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è —Å —Å–∞–π—Ç–æ–º** —á–µ—Ä–µ–∑ –±–µ–∑–æ–ø–∞—Å–Ω—ã–π API
- ü§ñ **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å AI** –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
- üì± **–£–ø—Ä–∞–≤–ª—è—Ç—å –¥–∞–Ω–Ω—ã–º–∏** –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ
- üîê **–†–∞–±–æ—Ç–∞—Ç—å –±–µ–∑–æ–ø–∞—Å–Ω–æ** —Å –ø—Ä–∞–≤–∞–º–∏ –¥–æ—Å—Ç—É–ø–∞

**–ù–∞—á–Ω–∏—Ç–µ —Å —Å–æ–∑–¥–∞–Ω–∏—è API –∫–ª—é—á–∞ –∏ –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –ø—Ä–∏–º–µ—Ä—ã –≤—ã—à–µ!** üöÄ
