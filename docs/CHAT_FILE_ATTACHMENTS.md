# –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ —Ñ–∞–π–ª–æ–≤ –≤ —á–∞—Ç

## –î–∞—Ç–∞: 10 –æ–∫—Ç—è–±—Ä—è 2025

## –û–±–∑–æ—Ä

–î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–ª–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –ø—Ä–∏–∫—Ä–µ–ø–ª–µ–Ω–∏—è —Ñ–∞–π–ª–æ–≤ –∫ —Å–æ–æ–±—â–µ–Ω–∏—è–º –≤ —á–∞—Ç–µ. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç –∑–∞–≥—Ä—É–∂–∞—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è, –¥–æ–∫—É–º–µ–Ω—Ç—ã –∏ –¥—Ä—É–≥–∏–µ —Ñ–∞–π–ª—ã, –∫–æ—Ç–æ—Ä—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ Yandex Cloud Object Storage –∏ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤–º–µ—Å—Ç–µ —Å —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏.

## –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

### ‚úÖ –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –¥–æ 3 —Ñ–∞–π–ª–æ–≤ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
- –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞: 10 –ú–ë
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ç–∏–ø—ã: –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è, PDF, –¥–æ–∫—É–º–µ–Ω—Ç—ã Word/Excel, —Ç–µ–∫—Å—Ç–æ–≤—ã–µ —Ñ–∞–π–ª—ã
- Drag & Drop –ø–æ–¥–¥–µ—Ä–∂–∫–∞
- –í–∏–∑—É–∞–ª—å–Ω—ã–π –ø—Ä–æ–≥—Ä–µ—Å—Å –∑–∞–≥—Ä—É–∑–∫–∏
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –≤ Yandex Cloud Storage

### ‚úÖ –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤
- –ü—Ä–µ–≤—å—é –¥–ª—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π (60x60px)
- –ò–∫–æ–Ω–∫–∏ –¥–ª—è –¥—Ä—É–≥–∏—Ö —Ç–∏–ø–æ–≤ —Ñ–∞–π–ª–æ–≤
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏–º–µ–Ω–∏ —Ñ–∞–π–ª–∞ –∏ —Ä–∞–∑–º–µ—Ä–∞
- –°—Å—ã–ª–∫–∞ –¥–ª—è –æ—Ç–∫—Ä—ã—Ç–∏—è/—Å–∫–∞—á–∏–≤–∞–Ω–∏—è —Ñ–∞–π–ª–∞
- –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤

### ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å AI
- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ñ–∞–π–ª–∞—Ö –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç AI
- AI –≤–∏–¥–∏—Ç —Ç–∏–ø—ã –∏ –Ω–∞–∑–≤–∞–Ω–∏—è –ø—Ä–∏–∫—Ä–µ–ø–ª—ë–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

#### 1. `FileUploader.tsx`
**–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ:** `/app/components/chat/FileUploader.tsx`

**–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å:**
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–≥—Ä—É–∑–∫–æ–π —Ñ–∞–π–ª–æ–≤
- –í–∞–ª–∏–¥–∞—Ü–∏—è —Ä–∞–∑–º–µ—Ä–∞ –∏ —Ç–∏–ø–∞
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –ø—Ä–∏–∫—Ä–µ–ø–ª—ë–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤
- Drag & Drop —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

**Props:**
```typescript
interface FileUploaderProps {
  onFilesChange: (files: FileAttachment[]) => void;
  maxFiles?: number;           // –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é: 5
  maxFileSize?: number;        // –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é: 10MB
  acceptedTypes?: string[];    // –¢–∏–ø—ã —Ñ–∞–π–ª–æ–≤
  disabled?: boolean;
}
```

**–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å FileAttachment:**
```typescript
export interface FileAttachment {
  name: string;    // –ò–º—è —Ñ–∞–π–ª–∞
  url: string;     // URL –≤ Yandex Storage
  type: string;    // MIME type
  size: number;    // –†–∞–∑–º–µ—Ä –≤ –±–∞–π—Ç–∞—Ö
}
```

#### 2. `ChatMessageForm.tsx` (–æ–±–Ω–æ–≤–ª—ë–Ω)
**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
- –î–æ–±–∞–≤–ª–µ–Ω –∫–æ–º–ø–æ–Ω–µ–Ω—Ç FileUploader
- –û–±–Ω–æ–≤–ª—ë–Ω –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ onSubmit –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ —Ñ–∞–π–ª–æ–≤
- –†–∞–∑—Ä–µ—à–µ–Ω–∞ –æ—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π —Ç–æ–ª—å–∫–æ —Å —Ñ–∞–π–ª–∞–º–∏ (–±–µ–∑ —Ç–µ–∫—Å—Ç–∞)
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—á–∏—Å—Ç–∫–∞ —Ñ–∞–π–ª–æ–≤ –ø–æ—Å–ª–µ –æ—Ç–ø—Ä–∞–≤–∫–∏
- –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ –ø—Ä–∏ –æ—à–∏–±–∫–µ –æ—Ç–ø—Ä–∞–≤–∫–∏

**–ù–æ–≤—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å:**
```typescript
interface ChatMessageFormProps {
  onSubmit: (message: string, files?: FileAttachment[]) => Promise<void>;
  isMessageSending: boolean;
  disabled?: boolean;
}
```

#### 3. `ChatInterface.tsx` (–æ–±–Ω–æ–≤–ª—ë–Ω)
**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
- –ò–º–ø–æ—Ä—Ç –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ FileAttachment –∏–∑ useChat
- –û–±–Ω–æ–≤–ª—ë–Ω handleMessageSubmit –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Ñ–∞–π–ª–æ–≤
- –û–±–Ω–æ–≤–ª—ë–Ω –∫–æ–º–ø–æ–Ω–µ–Ω—Ç ChatMessage –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø—Ä–∏–∫—Ä–µ–ø–ª—ë–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤
- –î–æ–±–∞–≤–ª–µ–Ω—ã —Ñ—É–Ω–∫—Ü–∏–∏ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è (getFileIcon, formatFileSize)

**–û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤:**
- –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è: –ø—Ä–µ–≤—å—é —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é –æ—Ç–∫—Ä—ã—Ç–∏—è –≤ –ø–æ–ª–Ω–æ–º —Ä–∞–∑–º–µ—Ä–µ
- –î–æ–∫—É–º–µ–Ω—Ç—ã: –∏–∫–æ–Ω–∫–∞ —Å –Ω–∞–∑–≤–∞–Ω–∏–µ–º –∏ —Ä–∞–∑–º–µ—Ä–æ–º
- –í—Å–µ —Ñ–∞–π–ª—ã –∫–ª–∏–∫–∞–±–µ–ª—å–Ω—ã –∏ –æ—Ç–∫—Ä—ã–≤–∞—é—Ç—Å—è –≤ –Ω–æ–≤–æ–π –≤–∫–ª–∞–¥–∫–µ

### –•—É–∫–∏

#### `useChat.ts` (–æ–±–Ω–æ–≤–ª—ë–Ω)
**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
```typescript
export interface FileAttachment {
  name: string;
  url: string;
  type: string;
  size: number;
}

export interface Message {
  id?: string;
  chat_id: string;
  role: "user" | "assistant";
  content: string;
  attachments?: FileAttachment[];  // –ù–û–í–û–ï
  created_at?: string;
}
```

**–û–±–Ω–æ–≤–ª—ë–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è sendMessage:**
```typescript
mutationFn: async ({ 
  content, 
  attachments 
}: { 
  content: string; 
  attachments?: FileAttachment[] 
}) => {
  // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ attachments –≤ –ë–î
  // –ü–µ—Ä–µ–¥–∞—á–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Ñ–∞–π–ª–∞—Ö –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç AI
}
```

### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

#### –ú–∏–≥—Ä–∞—Ü–∏—è
**–§–∞–π–ª:** `/migrations/add_attachments_to_chat_messages.sql`

```sql
ALTER TABLE chat_messages 
ADD COLUMN IF NOT EXISTS attachments JSONB DEFAULT '[]'::jsonb;

-- –ò–Ω–¥–µ–∫—Å –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –∑–∞–ø—Ä–æ—Å–æ–≤
CREATE INDEX IF NOT EXISTS idx_chat_messages_attachments 
ON chat_messages USING GIN (attachments);
```

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö attachments:**
```json
[
  {
    "name": "screenshot.png",
    "url": "https://public-gareevde.storage.yandexcloud.net/chat-attachments/user123/abc123.png",
    "type": "image/png",
    "size": 245760
  }
]
```

### –•—Ä–∞–Ω–∏–ª–∏—â–µ —Ñ–∞–π–ª–æ–≤

#### Yandex Cloud Object Storage
**–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:**
- Bucket: `public-gareevde`
- –ü–∞–ø–∫–∞: `chat-attachments/`
- –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—É—Ç–∏: `chat-attachments/{userId}/{randomId}.{ext}`
- ACL: `public-read`

**API endpoint:** `/api/storage/upload`
- –¢—Ä–µ–±—É–µ—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ (userId –≤ headers)
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç publicUrl, directUrl –¥–ª—è —Ñ–∞–π–ª–∞
- –î–æ–±–∞–≤–ª—è–µ—Ç –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ (userId, customPath)

## –§–∞–π–ª–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞

```
app/
‚îú‚îÄ‚îÄ components/
‚îÇ   ‚îî‚îÄ‚îÄ chat/
‚îÇ       ‚îú‚îÄ‚îÄ FileUploader.tsx ............. –ù–û–í–´–ô: –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–æ–≤
‚îÇ       ‚îú‚îÄ‚îÄ FileUploader.css ............. –ù–û–í–´–ô: –°—Ç–∏–ª–∏ –∑–∞–≥—Ä—É–∑—á–∏–∫–∞
‚îÇ       ‚îú‚îÄ‚îÄ ChatMessageForm.tsx .......... –û–ë–ù–û–í–õ–Å–ù: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è FileUploader
‚îÇ       ‚îú‚îÄ‚îÄ ChatMessageForm.css .......... –û–ë–ù–û–í–õ–Å–ù: –ù–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–æ—Ä–º—ã
‚îÇ       ‚îú‚îÄ‚îÄ ChatInterface.tsx ............ –û–ë–ù–û–í–õ–Å–ù: –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤
‚îÇ       ‚îî‚îÄ‚îÄ ChatInterface.css ............ –û–ë–ù–û–í–õ–Å–ù: –°—Ç–∏–ª–∏ –¥–ª—è —Ñ–∞–π–ª–æ–≤

hooks/
‚îî‚îÄ‚îÄ useChat.ts ....................... –û–ë–ù–û–í–õ–Å–ù: –ü–æ–¥–¥–µ—Ä–∂–∫–∞ attachments

migrations/
‚îî‚îÄ‚îÄ add_attachments_to_chat_messages.sql ... –ù–û–í–´–ô: –ú–∏–≥—Ä–∞—Ü–∏—è –ë–î

lib/
‚îî‚îÄ‚îÄ yandexStorage.ts ................. –ò–°–ü–û–õ–¨–ó–£–ï–¢–°–Ø: –ó–∞–≥—Ä—É–∑–∫–∞ –≤ Yandex Storage
```

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–∞
```typescript
// –í –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ —á–∞—Ç–∞
<FileUploader
  onFilesChange={setAttachedFiles}
  disabled={disabled || isMessageSending}
  maxFiles={3}
  maxFileSize={10 * 1024 * 1024} // 10MB
/>
```

### –û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏—è —Å —Ñ–∞–π–ª–∞–º–∏
```typescript
const handleSubmit = async (message: string, files?: FileAttachment[]) => {
  await sendMessage.mutateAsync({ 
    content: message, 
    attachments: files 
  });
};
```

### –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ –≤ —Å–æ–æ–±—â–µ–Ω–∏–∏
```typescript
{message.attachments && message.attachments.length > 0 && (
  <div className="chat-message-attachments">
    {message.attachments.map((file, index) => (
      <a href={file.url} target="_blank" rel="noopener noreferrer">
        {/* –ü—Ä–µ–≤—å—é –∏–ª–∏ –∏–∫–æ–Ω–∫–∞ */}
        {file.name} ({formatFileSize(file.size)})
      </a>
    ))}
  </div>
)}
```

## –í–∞–ª–∏–¥–∞—Ü–∏—è –∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

### –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è
- **–ú–∞–∫—Å–∏–º—É–º —Ñ–∞–π–ª–æ–≤:** 3 —Ñ–∞–π–ª–∞ –∑–∞ —Ä–∞–∑
- **–ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä:** 10 –ú–ë –Ω–∞ —Ñ–∞–π–ª
- **–û–±—â–∏–π —Ä–∞–∑–º–µ—Ä:** –î–æ 30 –ú–ë –∑–∞ —Å–æ–æ–±—â–µ–Ω–∏–µ

### –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ç–∏–ø—ã —Ñ–∞–π–ª–æ–≤
```typescript
const acceptedTypes = [
  'image/*',           // –í—Å–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
  'application/pdf',   // PDF –¥–æ–∫—É–º–µ–Ω—Ç—ã
  '.doc',              // Word (—Å—Ç–∞—Ä—ã–π —Ñ–æ—Ä–º–∞—Ç)
  '.docx',             // Word (–Ω–æ–≤—ã–π —Ñ–æ—Ä–º–∞—Ç)
  '.txt'               // –¢–µ–∫—Å—Ç–æ–≤—ã–µ —Ñ–∞–π–ª—ã
];
```

### –í–∞–ª–∏–¥–∞—Ü–∏—è
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–∑–º–µ—Ä–∞ —Ñ–∞–π–ª–∞
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Ñ–∞–π–ª–æ–≤
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–∞ —Ñ–∞–π–ª–∞ (–Ω–∞ —É—Ä–æ–≤–Ω–µ –±—Ä–∞—É–∑–µ—Ä–∞)
- ‚úÖ –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- ‚úÖ –£–Ω–∏–∫–∞–ª—å–Ω—ã–µ –∏–º–µ–Ω–∞ —Ñ–∞–π–ª–æ–≤

## UX –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

### –ü—Ä–µ–≤—å—é —Ñ–∞–π–ª–æ–≤
- **–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è:** –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –º–∏–Ω–∏–∞—Ç—é—Ä–∞ 60x60px
- **–î–æ–∫—É–º–µ–Ω—Ç—ã:** –≠–º–æ–¥–∑–∏-–∏–∫–æ–Ω–∫–∞ –ø–æ —Ç–∏–ø—É —Ñ–∞–π–ª–∞
  - üìÑ PDF
  - üìù Word
  - üìä Excel
  - üìé –î—Ä—É–≥–∏–µ —Ñ–∞–π–ª—ã

### –ò–Ω–¥–∏–∫–∞—Ü–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è
- –ü—Ä–æ–≥—Ä–µ—Å—Å –∑–∞–≥—Ä—É–∑–∫–∏ (Progress bar)
- –°–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö
- –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –≤–æ –≤—Ä–µ–º—è –∑–∞–≥—Ä—É–∑–∫–∏
- –í–∏–∑—É–∞–ª—å–Ω–∞—è –æ–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å (hover —ç—Ñ—Ñ–µ–∫—Ç—ã)

### –ú–æ–±–∏–ª—å–Ω–∞—è –∞–¥–∞–ø—Ç–∞—Ü–∏—è
- –£–º–µ–Ω—å—à–µ–Ω–Ω—ã–µ –ø—Ä–µ–≤—å—é (50x50px)
- –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–µ –æ—Ç—Å—Ç—É–ø—ã
- Touch-friendly –∫–Ω–æ–ø–∫–∏
- –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –∫–æ–º–ø–æ–Ω–æ–≤–∫–∞

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
- –¢—Ä–µ–±—É–µ—Ç—Å—è userId –≤ –∑–∞–≥–æ–ª–æ–≤–∫–∞—Ö –∑–∞–ø—Ä–æ—Å–∞
- –§–∞–π–ª—ã —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –ø–∞–ø–∫—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–ª–∞–¥–µ–ª—å—Ü–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ

### –ü—É–±–ª–∏—á–Ω—ã–π –¥–æ—Å—Ç—É–ø
- –§–∞–π–ª—ã –¥–æ—Å—Ç—É–ø–Ω—ã –ø–æ –ø—Ä—è–º–æ–π —Å—Å—ã–ª–∫–µ
- ACL: `public-read`
- –ù–µ —Å–æ–¥–µ—Ä–∂–∞—Ç –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –≤ URL

### –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ
```typescript
{
  userId: "user-uuid",
  uploadedAt: "timestamp",
  originalName: "filename.ext"
}
```

## –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
- ‚úÖ GIN –∏–Ω–¥–µ–∫—Å –¥–ª—è –ø–æ–∏—Å–∫–∞ –ø–æ attachments
- ‚úÖ Lazy loading –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- ‚úÖ –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ (Cache-Control: 3600)
- ‚úÖ –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø—Ä–µ–≤—å—é
- ‚úÖ –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞

### –†–∞–∑–º–µ—Ä—ã
- –ü—Ä–µ–≤—å—é: 60x60px (desktop), 50x50px (mobile)
- –û—Ä–∏–≥–∏–Ω–∞–ª: –ë–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π
- –°–∂–∞—Ç–∏–µ: –í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –±—Ä–∞—É–∑–µ—Ä–æ–º

## –ë—É–¥—É—â–∏–µ —É–ª—É—á—à–µ–Ω–∏—è

### –í—ã—Å–æ–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç
- [ ] –°–∂–∞—Ç–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –ø–µ—Ä–µ–¥ –∑–∞–≥—Ä—É–∑–∫–æ–π
- [ ] –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –≤–∏–¥–µ–æ —Ñ–∞–π–ª–æ–≤
- [ ] –ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä PDF –≤ –º–æ–¥–∞–ª—å–Ω–æ–º –æ–∫–Ω–µ
- [ ] –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ –º–µ–∂–¥—É —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏

### –°—Ä–µ–¥–Ω–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç
- [ ] –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –ø–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π
- [ ] –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –≤—Å—Ç–∞–≤–∫–∏ –∏–∑ –±—É—Ñ–µ—Ä–∞ –æ–±–º–µ–Ω–∞
- [ ] –ú–∞—Å—Å–æ–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤
- [ ] –ò—Å—Ç–æ—Ä–∏—è –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤

### –ù–∏–∑–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç
- [ ] OCR –¥–ª—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- [ ] –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–µ–≤—å—é –¥–ª—è –≤–∏–¥–µ–æ
- [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å AI –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- [ ] –ó–∞—â–∏—Ç–∞ –æ—Ç –≤—Ä–µ–¥–æ–Ω–æ—Å–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –¢–µ—Å—Ç–æ–≤—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏

#### 1. –ó–∞–≥—Ä—É–∑–∫–∞ –æ–¥–Ω–æ–≥–æ —Ñ–∞–π–ª–∞
```
1. –ù–∞–∂–∞—Ç—å –∫–Ω–æ–ø–∫—É –∑–∞–≥—Ä—É–∑–∫–∏
2. –í—ã–±—Ä–∞—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ < 10MB
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø—Ä–µ–≤—å—é
4. –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ
5. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –ë–î
6. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤ —á–∞—Ç–µ
```

#### 2. –ó–∞–≥—Ä—É–∑–∫–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Ñ–∞–π–ª–æ–≤
```
1. –í—ã–±—Ä–∞—Ç—å 3 —Ñ–∞–π–ª–∞ —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤—Å–µ—Ö —Ñ–∞–π–ª–æ–≤
3. –£–¥–∞–ª–∏—Ç—å –æ–¥–∏–Ω —Ñ–∞–π–ª
4. –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ
5. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ 2 —Ñ–∞–π–ª–æ–≤
```

#### 3. –í–∞–ª–∏–¥–∞—Ü–∏—è
```
1. –ü–æ–ø—ã—Ç–∫–∞ –∑–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–∞–π–ª > 10MB
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ
3. –ü–æ–ø—ã—Ç–∫–∞ –∑–∞–≥—Ä—É–∑–∏—Ç—å > 3 —Ñ–∞–π–ª–æ–≤
4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –±–ª–æ–∫–∏—Ä–æ–≤–∫—É –∫–Ω–æ–ø–∫–∏
```

#### 4. Drag & Drop
```
1. –ü–µ—Ä–µ—Ç–∞—â–∏—Ç—å —Ñ–∞–π–ª –≤ –∑–æ–Ω—É –∑–∞–≥—Ä—É–∑–∫–∏
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫—É—é –∑–∞–≥—Ä—É–∑–∫—É
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ
```

#### 5. –ú–æ–±–∏–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è
```
1. –û—Ç–∫—Ä—ã—Ç—å –Ω–∞ –º–æ–±–∏–ª—å–Ω–æ–º
2. –ó–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–∞–π–ª –∏–∑ –≥–∞–ª–µ—Ä–µ–∏
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∞–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å –ø—Ä–µ–≤—å—é
4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É touch-—Å–æ–±—ã—Ç–∏–π
```

## –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### –§–∞–π–ª –Ω–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è
1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞ (< 10MB)
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (BUCKET_KEY_ID, BUCKET_SECRET_KEY)
4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–µ—Ç—å (–æ—Ç–∫—Ä—ã—Ç—å DevTools)

### –§–∞–π–ª –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è
1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É attachments –≤ –ë–î
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å URL
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å CORS –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ Yandex Storage
4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞

### –û—à–∏–±–∫–∞ 401 –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞–ª–∏—á–∏–µ userId –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å cookies –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
3. –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–ü–æ–ª–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –ø—Ä–∏–∫—Ä–µ–ø–ª–µ–Ω–∏—è —Ñ–∞–π–ª–æ–≤ —É—Å–ø–µ—à–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞. –°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É –∏ –º–æ–∂–µ—Ç –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –∑–∞–≥—Ä—É–∑–∫—É, —Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ –≤ —á–∞—Ç–µ —Å –≤—ã—Å–æ–∫–æ–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é –∏ —Ö–æ—Ä–æ—à–∏–º UX.

### –ö–ª—é—á–µ–≤—ã–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è
- ‚úÖ –ü–æ–ª–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Yandex Cloud Storage
- ‚úÖ –ö—Ä–∞—Å–∏–≤—ã–π –∏ –∏–Ω—Ç—É–∏—Ç–∏–≤–Ω—ã–π UI
- ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤
- ‚úÖ –ú–æ–±–∏–ª—å–Ω–∞—è –∞–¥–∞–ø—Ç–∞—Ü–∏—è
- ‚úÖ –ü–µ—Ä–µ–¥–∞—á–∞ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ —Ñ–∞–π–ª–æ–≤ –≤ AI
- ‚úÖ –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
- **–ù–æ–≤—ã—Ö —Ñ–∞–π–ª–æ–≤:** 4
- **–û–±–Ω–æ–≤–ª—ë–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤:** 4
- **–°—Ç—Ä–æ–∫ –∫–æ–¥–∞:** ~800+
- **–í—Ä–µ–º—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:** ~2 —á–∞—Å–∞

